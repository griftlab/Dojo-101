# Android Forensics

## Ressources

* [ADB](https://developer.android.com/tools/releases/platform-tools)

* [MVT Mobile Verification Toolkit](https://github.com/mvt-project/mvt)

* [ALEAPP](https://github.com/abrignoni/ALEAPP)


## Android mode Dev + debug USB

1. `Paramètres` -> `à propos du téléphone` -> `Numéro de build`*4

2. `Paramètres` -> `Systèmes` -> `Optins pour les développeurs` -> `Debogage USB`

## Adb

lancement du serveur adb : 

```powershell
.\adb.exe version
.\adb.exe start-server
```

lister les devices

```powershell
.\adb.exe devices
.\adb.exe get-serialno
.\adb.exe get-state
```

Si `unauthorized`, autorisation sur le téléphone à valider

parcourir les fichiers

```powershell
.\adb.exe shell ls /
```

Pull / Push de fichiers

```powershell
.\adb.exe <push|pull> <source> <destination>
```

Lire les Logs

```powershell
.\adb.exe logcat -d > Logs.txt
```

Lister les packages

```powershell
.\adb.exe shell pm list packages
```

Arrêt du serveur adb : 

```powershell
.\adb.exe kill-server
```

Lister les permissions

```powershell
.\adb.exe shell "dumpsys package packagename | grep permission"
```

## Backup pour comparaison aux Iocs

### Via une appli tierce

ex: Backup Local ou Cloud

### Via adb

Backup des SMS

```sh
adb backup -nocompress com.android.providers.telephony
```

Backup complète

```sh
adb backup -nocompress -all
```

### Extraction des backups

* via [ABE](https://github.com/nelenkov/android-backup-extractor) : 

```powershell
java -jar .\abe-3e9a273.jar unpack .\backup.ab backup.tar
```

* via l'outil `MVT` :

```sh
mvt-android check-backup --output /path/to/results/ /path/to/backup.ab`
```

## Recherche d'IoCs

```sh
mvt-android check-backup --iocs ~/iocs/malware.stix2 /path/to/android/backup/
```

## Analyse des applications

* Peut se faire localement avec `Google Play Protect` depuis le Play Store

* Revue des permissions localement via `Paramètres` -> `Applications`, mieux vaut privilegier adb.

* Signatures des Apps ou Fichiers suspects : `VirusTotal`


## Compte google

* [google security checkup](myaccount.google.com/security-checkup)

* [Support Google](https://support.google.com/accounts/answer/6294825?)